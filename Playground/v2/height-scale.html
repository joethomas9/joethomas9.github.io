<!DOCTYPE html>
<!-- This site was created in Webflow. https://www.webflow.com --><!-- Last Published: Fri Jan 13 2023 22:16:28 GMT+0000 (Coordinated Universal Time) -->
<html>
  <head>
    <meta charset="utf-8"/>
      <title>Matter.js with SVG Bodies</title>
      <meta content="width=device-width, initial-scale=1" name="viewport"/><meta content="Webflow" name="generator"/><link href="https://assets.website-files.com/63bf27eb2b3aa9f5a1bf8b46/css/matter-js-svg-bodies.webflow.cf45311a8.css" rel="stylesheet" type="text/css"/>
      <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]-->
      <script type="text/javascript">
      !function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);
      </script>
      <link href="https://assets.website-files.com/63bf27eb2b3aa9f5a1bf8b46/63c1a6c9b4194e04cc028c3f_webbae-favicon.png" rel="shortcut icon" type="image/x-icon"/>
      <link href="https://assets.website-files.com/img/webclip.png" rel="apple-touch-icon"/>
      </head>
      <body>
          <style>
            .grid {
              background-color: #F5F5DC;
              opacity: 0.3;
              background-image:  linear-gradient(#B5D5C5 2px, transparent 2px), linear-gradient(90deg, #B5D5C5 2px, transparent 2px), linear-gradient(#B5D5C5 1px, transparent 1px), linear-gradient(90deg, #B5D5C5 1px, #F5F5DC 1px);
              background-size: 50px 50px, 50px 50px, 10px 10px, 10px 10px;
              background-position: -2px -2px, -2px -2px, -1px -1px, -1px -1px;
            }
          </style>
  <div class="page">
    <div class="svgs">
    <div class="number-embed w-embed">
      <?xml version="1.0" encoding="UTF-8"?>

      <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 74.3">
        <path id="matter-path" d="M0,0,50,83.333,100,0Z"/>
      </svg>

      <!--<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 74.3">
        <path id="matter-path" d="M92.6,0a92.6,92.6,0,1,0,92.6,92.6A92.6,92.6,0,0,0,92.6,0" fill="#231f20"/>
      </svg>-->

      <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 74.3">
        <path id="matter-path" d="M0,0V83.333H50Z" fill="#231f20"/>
      </svg>

      <!--<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 74.3">
        <path id="matter-path" d="M0 0H83V41.5C83 64.4198 64.4198 83 41.5 83V83C18.5802 83 0 64.4198 0 41.5V0Z" fill="#231f20"/>
      </svg>-->

      <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 74.3">
        <path id="matter-path" d="M77.778,0,63.889,23.149,50,0,0,83.333H127.777Z" fill="#231f20"/>
      </svg>

      <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 74.3">
        <path id="matter-path" d="M0,0V83.333H52.778V50H31.94l9.994-16.666H33.062L53.045,0Z" fill="#231f20"/>
      </svg>
    </div>

  </div>
  
  <div id="matter-container" class="matter-container"><div class="grid"></div></div>
</div>


<div id="matter-container" class="matter-container"><div class="grid"></div></div></div><script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=63bf27eb2b3aa9f5a1bf8b46" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script src="https://assets.website-files.com/63bf27eb2b3aa9f5a1bf8b46/js/webflow.7f033afae.js" type="text/javascript"></script><!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]--><script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js" integrity="sha512-5T245ZTH0m0RfONiFm2NF0zcYcmAuNzcGyPSQ18j8Bs5Pbfhp5HP1hosrR8XRt5M3kSRqzjNMYpm2+it/AUX/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/pathseg@1.2.1/pathseg.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/poly-decomp@0.3.0/build/decomp.min.js"></script>
  <script>
    
  const thickness = 60;
  const SVG_PATH_SELECTOR = "#matter-path";
  const SVG_WIDTH_IN_PX = 100;
  const SVG_WIDTH_AS_PERCENT_OF_CONTAINER_WIDTH = 0.175;

  
  const matterContainer = document.querySelector("#matter-container");
  
  // module aliases
  var Engine = Matter.Engine,
    Render = Matter.Render,
    Runner = Matter.Runner,
    Bodies = Matter.Bodies,
    Composite = Matter.Composite,
    Body = Matter.Body,
    Svg = Matter.Svg,
    Vector = Matter.Vector,
    Vertices = Matter.Vertices;
  
  // create an engine
  var engine = Engine.create();
  
  // create a renderer
  var render = Render.create({
    element: matterContainer,
    engine: engine,
    options: {
      width: matterContainer.clientWidth,
      height: matterContainer.clientHeight,
      background: "transparent",
      wireframes: false,
      showAngleIndicator: false
    }
  });


  // create the matter.js body for the separate SVG images.
  createSvgBodies();
  createCircle();
  createRectangle();
  
  var ground = Bodies.rectangle(
    matterContainer.clientWidth / 2,
    matterContainer.clientHeight + thickness / 2,
    27184,
    thickness,
    { isStatic: true }
  );
  
  let leftWall = Bodies.rectangle(
    0 - thickness / 2,
    matterContainer.clientHeight / 2,
    thickness,
    matterContainer.clientHeight * 5,
    {
      isStatic: true
    }
  );
  
  let rightWall = Bodies.rectangle(
    matterContainer.clientWidth + thickness / 2,
    matterContainer.clientHeight / 2,
    thickness,
    matterContainer.clientHeight * 5,
    { isStatic: true }
  );
  
  // add all of the bodies to the world
  Composite.add(engine.world, [ground, leftWall, rightWall]);
  
  let mouse = Matter.Mouse.create(render.canvas);
  let mouseConstraint = Matter.MouseConstraint.create(engine, {
    mouse: mouse,
    constraint: {
      stiffness: 0.2,
      render: {
        visible: false
      }
    }
  });
  
  Composite.add(engine.world, mouseConstraint);
  
  // allow scroll through the canvas
  mouseConstraint.mouse.element.removeEventListener(
    "mousewheel",
    mouseConstraint.mouse.mousewheel
  );
  mouseConstraint.mouse.element.removeEventListener(
    "DOMMouseScroll",
    mouseConstraint.mouse.mousewheel
  );
  
  // run the renderer
  Render.run(render);
  
  // create runner
  var runner = Runner.create();
  
  // run the engine
  Runner.run(runner, engine);
  console.log(Composite.allBodies(engine.world));


  function createCircle() {
  let circleDiameter =
    matterContainer.clientWidth * SVG_WIDTH_AS_PERCENT_OF_CONTAINER_WIDTH;
  let circle = Bodies.circle(
    matterContainer.clientWidth / 2,
    10,
    circleDiameter / 2,
    {
      friction: 0.3,
      frictionAir: 0.005,
      restitution: 0.8,
      render: {
        fillStyle: "#464655",
        strokeStyle: "#464655"
      }
    }
  );
  Composite.add(engine.world, circle);
}

function createRectangle() {
  let width = matterContainer.clientWidth * SVG_WIDTH_AS_PERCENT_OF_CONTAINER_WIDTH;
  let height = matterContainer.clientHeight/6;
  let rectangle = Bodies.rectangle(
    matterContainer.clientWidth / 2,
    10,
    width,
    height,
    {
      chamfer: {
        radius: [0,0,60,60]
      },
      friction: 0.3,
      frictionAir: 0.05,
      restitution: 0.8,
      render: {
        fillStyle: "#464655",
        strokeStyle: "#464655"
      }
    }
  );
  Composite.add(engine.world, rectangle);
}

  function createSvgBodies() {
    const paths = document.querySelectorAll(SVG_PATH_SELECTOR);
    paths.forEach((path, index) => {
      let vertices = Svg.pathToVertices(path);
      let scaleFactor =
        (matterContainer.clientWidth * SVG_WIDTH_AS_PERCENT_OF_CONTAINER_WIDTH) /
        SVG_WIDTH_IN_PX;
      vertices = Vertices.scale(vertices, scaleFactor, scaleFactor);
      let svgBody = Bodies.fromVertices(
        index * SVG_WIDTH_IN_PX + 100,
        0,
        [vertices],
        {
          friction: 0.3,
          frictionAir: 0.05,
          restitution: 0.8,
          render: {
            fillStyle: "#464655",
            strokeStyle: "#464655",
            lineWidth: 1
          }
        }
      );
      Composite.add(engine.world, svgBody);
    });
  }
  
  function scaleBodies() {
    const allBodies = Composite.allBodies(engine.world);
    allBodies.forEach((body) => {
      if (body.isStatic === true) return; // don't scale walls and ground
      const { min, max } = body.bounds;
      const bodyWidth = max.x - min.x;
      let scaleFactor =
        (matterContainer.clientWidth * SVG_WIDTH_AS_PERCENT_OF_CONTAINER_WIDTH) /
        bodyWidth;
      
      Body.scale(body, scaleFactor, scaleFactor);
    });
  }
  
  function handleResize(matterContainer) {
    // set canvas size to new values
    render.canvas.width = matterContainer.clientWidth;
    render.canvas.height = matterContainer.clientHeight;
  
    // reposition ground
    Body.setPosition(
      ground,
      Vector.create(
        matterContainer.clientWidth / 2,
        matterContainer.clientHeight + thickness / 2
      )
    );
  
    // reposition right wall
    Body.setPosition(
      rightWall,
      Vector.create(
        matterContainer.clientWidth + thickness / 2,
        matterContainer.clientHeight / 2
      )
    );
  
    scaleBodies();
  }
  
  window.addEventListener("resize", () => handleResize(matterContainer));
  </script></body></html>